(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,s){},108:function(e,t,s){},117:function(e,t,s){},118:function(e,t,s){},119:function(e,t,s){},120:function(e,t,s){},121:function(e,t,s){},122:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(25),r=s.n(c),i=(s(85),s(3)),l=s(15),o=s.n(l),d=s(22),u=s(71),j=s(72),m=s(49),b=s.n(m),h="https://golf-dka.herokuapp.com/",f=function(){function e(t,s,n){Object(u.a)(this,e),this.token=t,this.logout=s,this.removeUser=n}return Object(j.a)(e,[{key:"apiCall",value:function(e,t,s){return b()({method:e,url:t,data:s}).catch((function(e){if(403===e.response.status)return Promise.reject();throw e}))}},{key:"getSessions",value:function(){return this.apiCall("get",h+"sessions")}},{key:"getSessionByLocation",value:function(e){return this.apiCall("get","".concat(h,"sessionlocation/").concat(e))}},{key:"getUsersByLocation",value:function(e){return this.apiCall("get","".concat(h,"userlocation/").concat(e))}},{key:"getUsers",value:function(){return this.apiCall("get",h+"user")}},{key:"getUser",value:function(e){return this.apiCall("get",h+"userid/".concat(e))}},{key:"addUser",value:function(e){return this.apiCall("post",h+"user",e)}},{key:"updateUser",value:function(e,t){return this.apiCall("put",h+"user/".concat(e),t)}},{key:"updateCgaLocation",value:function(e,t){return this.apiCall("put",h+"admin/".concat(e),{location:t})}},{key:"updateUserProfile",value:function(e,t,s,n,a,c,r){return this.apiCall("put",h+"user/".concat(e),{userName:t,nameFirst:s,nameLast:n,location:a,email:c,phone:r})}},{key:"removeSession",value:function(e){return this.apiCall("delete","".concat(h,"session/").concat(e))}},{key:"addSessionUser",value:function(e,t){return this.apiCall("put","".concat(h,"sessionUser/").concat(e),{user:t})}},{key:"removeSessionUser",value:function(e,t){return this.apiCall("put","".concat(h,"sessionDelUser/").concat(e),{user:t})}},{key:"getLocations",value:function(){return this.apiCall("get",h+"location")}},{key:"getUserByRole",value:function(e){return this.apiCall("get","".concat(h,"userrole/").concat(e))}},{key:"addSession",value:function(e,t,s,n,a,c,r){return this.apiCall("post",h+"session",{date:e,volunteer:t,sessionUsers:[],sessionLocation:s,sessionTimeStart:n,sessionTimeFinish:a,userLimit:c,details:r})}},{key:"getLocationByCGA",value:function(e){return this.apiCall("get","".concat(h,"locationcga/").concat(e))}},{key:"getUserByLocation",value:function(e){return this.apiCall("get","".concat(h,"userlocation/").concat(e))}},{key:"getAdminById",value:function(e){return this.apiCall("get","".concat(h,"adminid/").concat(e))}},{key:"getAdminByLocation",value:function(e){return this.apiCall("get","".concat(h,"adminlocation/").concat(e))}},{key:"getAdmins",value:function(){return this.apiCall("get",h+"admin")}},{key:"addLocation",value:function(e){return this.apiCall("post",h+"location",e)}},{key:"addCga",value:function(e,t,s,n,a,c,r){return this.apiCall("post",h+"admin",{userName:e,password:t,location:s,role:"CGA",email:n,phone:a,nameFirst:c,nameLast:r})}},{key:"getCgaByLocation",value:function(e){return this.apiCall("get","".concat(h,"cgalocation/").concat(e))}},{key:"userlogin",value:function(){var e=Object(d.a)(o.a.mark((function e(t,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",url:"".concat(h,"userauth"),data:{userName:t,password:s}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"adminlogin",value:function(){var e=Object(d.a)(o.a.mark((function e(t,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",url:"".concat(h,"adminauth"),data:{userName:t,password:s}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}]),e}(),O=(s(54),s(67),s(40),s(106),s(6)),x=s(8),p=s(0);var v=function(e){return Object(p.jsx)("div",{className:"footer",children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:1,className:"text-black custom-nav-item nav-link contact-margin",children:Object(p.jsx)("p",{children:"CONTACT US:"})}),Object(p.jsx)(x.a,{lg:2,className:"center-footer text-black custom-nav-item nav-link",children:Object(p.jsx)("p",{children:"golfinsociety@gmail.com"})}),Object(p.jsx)(x.a,{lg:1,className:"margin-footer text-black custom-nav-item nav-link",children:Object(p.jsx)("p",{children:"07491694938"})}),Object(p.jsx)(x.a,{lg:2,className:"text-black custom-nav-item nav-link",children:Object(p.jsx)("p",{children:"Mon-Fri 8am - 6pm"})}),e.currentUser?null:Object(p.jsx)(x.a,{className:"custom-nav-item nav-link admin-login-container",children:Object(p.jsx)("a",{href:"#/login/admin",className:"admin-login",children:"Admin Log In"})})]})})},N=s(32),g=s(30),y=s(16),w=s(134),S=s(127),k=s(128),C=s(129),U=s(130),L=s(131),F=s(135),T=s(132),A=s(76),D=s(133),E=s(21),B=s(24),P=s(4),_=function(e){var t=new Date(e.date);return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()},M=function(){return[{name:"One-to-One Coaching",description:"These person-centred sessions are delivered by one of our trained team at a local golf club. The service provides an enjoyable & rewarding day for the golfer PLUS a deserved respite break for carers. No golfing experience is necessary.",cost:"\xa320 per hour"},{name:"The Perfect Three Ball",description:"Two golfers enjoying golf & companionship with a member of our team at a local golf club. This service provides an enjoyable & rewarding day out, the chance to make new friends and a well deserved respite break for carers. No golfing experience is necessary.",cost:"\xa315 per hour"},{name:"Group Session",description:"At present we\u2019re limited to the \u201crule of six\u201d. The sessions are perfect for people who enjoy socialising, being part of a team and group coaching.",cost:"\xa310 per hour"},{name:"No session info to show",description:"No session with such user limit",cost:"No session info to show"}]},I=s(41),V=s(57),W=(s(108),s.p+"static/media/logo.a2536534.png");var q=function(e){var t=Object(y.f)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(I.a,{children:Object(p.jsxs)(N.a,{className:"navbarContentContainer",children:[Object(p.jsx)(I.a.Brand,{href:"/",children:Object(p.jsx)("img",{src:W,alt:"Golf in Society logo"})}),Object(p.jsx)(I.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(I.a.Collapse,{id:"responsive-navbar-nav",children:Object(p.jsxs)(V.a,{className:"justify-content-end me-auto",activeKey:"/home",style:{width:"100%"},children:[e.links.slice(0).map((function(e,t){return Object(p.jsx)(g.b,{className:"custom-nav-item nav-link",to:e.url,children:e.name},t)})),e.landing?" ":Object(p.jsx)(V.a.Item,{children:Object(p.jsx)("div",{className:"custom-nav-item nav-link logout-text",onClick:function(){return e.client.logout(),e.client.removeUser(),void t.push("/home")},children:"Log out"})})]})})]})})})};var z=function(e){var t=Object(n.useState)(new Date),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)([]),j=Object(i.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)("showAll"),f=Object(i.a)(h,2),v=f[0],N=f[1],g=Object(n.useState)(""),y=Object(i.a)(g,2),I=y[0],V=y[1],W=e.currentUser._id,z=e.currentUser.location,R=new Date,G=function(e,t){return Object(p.jsx)("div",{className:"col col-center",children:e},t)},J=function(e){for(var t=[],s=[],n=w.a(e,"yyyy-MM-dd"),a=o.map((function(e,t){if(e.date===n)return K(e,t)})),c=0;c<a.length;c++)void 0!==a[c]&&t.push(a[c]);for(var r=t.sort((function(e,t){return e[1]-t[1]})),i=0;i<r.length;i++)s.push(r[i][0]);return s},H=function(e,t){return Object(p.jsx)(E.a,{trigger:"click",placement:"bottom",overlay:$(e),rootClose:!0,children:Object(p.jsxs)("li",{className:"dis-session-info li-show-sessions",style:{backgroundColor:e.volunteer===W?"#5Cb85C":"#0D6EFD",color:"White"},children:[e.sessionTimeStart," ",X(e.userLimit).name]})},t)},K=function(e,t){var s=new Date(e.date+" "+e.sessionTimeStart);return"assigned"===v&&e.volunteer===W||"showAll"===v?[H(e,t),s]:void 0},Y=function(){c(A.a(a,1))},Q=function(){c(D.a(a,1))},X=function(e){switch(e){case 1:return M()[0];case 2:return M()[1];case 5:return M()[2];default:return M()[3]}},Z=function(e){var t=[];return m.map((function(s){e.sessionUsers.includes(s._id)&&t.push(s.nameFirst+" "+s.nameLast+" ")})),t.join(", ")},$=function(e){return Object(p.jsx)(B.a,{className:"popover-main",id:"popover-trigger-click",title:"Popover bottom",children:Object(p.jsx)(P.a,{className:"popover-card",children:Object(p.jsxs)(P.a.Body,{className:"popover-body",children:[Object(p.jsx)(O.a,{className:"session-name",children:X(e.userLimit).name}),Object(p.jsxs)(O.a,{children:[_(e)," ",e.sessionTimeStart,"-",e.sessionTimeFinish]}),Object(p.jsxs)(O.a,{className:"session-location",children:[Object(p.jsx)(x.a,{className:"location-icon",xs:"auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(p.jsx)(x.a,{className:"location-text",children:e.sessionLocation})]}),Object(p.jsx)(O.a,{className:"session-description",children:X(e.userLimit).description}),Object(p.jsx)(O.a,{children:X(e.userLimit).cost}),Object(p.jsxs)(O.a,{className:"members-attending",children:["Members attending: ",Z(e)]}),Object(p.jsxs)(O.a,{className:"cga-contact",children:["CGA contact: ",Object(p.jsxs)("ul",{className:"cga-contact-list",children:[Object(p.jsx)("li",{children:I.nameFirst+" "+I.nameLast}),Object(p.jsxs)("li",{children:["Email: ",I.email]}),Object(p.jsxs)("li",{children:["Number: ",I.phone]})]})]})]})})})};return Object(n.useEffect)((function(){e.client.getSessionByLocation(z).then((function(e){return d(e.data)})),e.client.getUsers().then((function(e){return b(e.data)})),e.client.getCgaByLocation(z).then((function(e){return V(e.data)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/volunteer/calendar"},{name:"Profile",url:"/volunteer/profile"}],client:e.client})}),Object(p.jsx)("div",{className:"calendar-main",children:Object(p.jsxs)("div",{className:"calendar",children:[Object(p.jsxs)("div",{className:"header row flex-middle",children:[Object(p.jsx)("div",{className:"col col-start",children:Object(p.jsx)("div",{className:"icon",onClick:function(){return Q()},children:"chevron_left"})}),Object(p.jsx)("div",{className:"col col-center",children:Object(p.jsx)("span",{children:w.a(a,"MMMM yyyy")})}),Object(p.jsx)("div",{className:"col col-end",onClick:function(){return Y()},children:Object(p.jsx)("div",{className:"icon",children:"chevron_right"})})]}),Object(p.jsxs)(O.a,{className:"filters",children:[Object(p.jsx)(x.a,{className:"bullet-list",children:Object(p.jsxs)("ul",{className:"filter-list-bullet",children:[Object(p.jsx)("li",{className:"bullet-green",children:Object(p.jsx)("span",{className:"bullet-text",children:"Sessions you are assigned to"})}),Object(p.jsx)("li",{className:"bullet-green bullet-blue",children:Object(p.jsx)("span",{className:"bullet-text",children:" Sessions you are not assigned to"})})]})}),Object(p.jsx)(x.a,{lg:5,md:4,className:"dropdown-name volunteer-filter",children:"Filter calendar by your assigned sessions:"}),Object(p.jsx)(x.a,{lg:2,md:3,className:"user-filter-dropdown",children:Object(p.jsxs)("select",{className:"dropdown-list",onChange:function(e){return N(e.target.value)},value:v,children:[Object(p.jsx)("option",{value:"showAll",children:"Show All"}),Object(p.jsx)("option",{value:"assigned",children:"Assigned sessions"})]})})]}),function(){var e;return e=window.innerWidth<768?["M","T","W","T","F","S","S"].map((function(e,t){return G(e,t)})):["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e,t){return G(e,t)})),Object(p.jsx)("div",{className:"days row",children:e})}(),function(){for(var e=S.a(a),t=k.a(e),s=C.a(e,{weekStartsOn:1}),n=U.a(t),c=[],r=[],i=s,l="";i<=n;){for(var o=0;o<7;o++)l=w.a(i,"d"),r.push(Object(p.jsxs)("div",{className:"col cell ".concat(L.a(i,e)?F.a(i,R)?"selected":"":"disabled"),children:[Object(p.jsx)("span",{className:"number",children:l}),Object(p.jsx)("span",{children:Object(p.jsx)("ul",{className:"ul-show-sessions",children:J(i)})})]},i)),i=T.a(i,1);c.push(Object(p.jsx)("div",{className:"row",children:r},i)),r=[]}return Object(p.jsx)("div",{className:"body",children:c})}()]})})]})},R=s(80),G=s(11),J=(s(69),s(17));s(29);var H=function(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(void 0),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(e.currentUser.location),j=Object(i.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)({userName:"",nameFirst:"",nameLast:"",location:"",email:"",phone:""}),f=Object(i.a)(h,2),O=f[0],x=f[1];Object(n.useEffect)((function(){if(e.currentUser){var t=e.currentUser,s=(t.availability,t.details,t.email),n=t.location,a=t.nameFirst,c=t.nameLast,r=(t.password,t.phone),i=(t.role,t.token,t.userName);x({userName:i,nameFirst:a,nameLast:c,location:n,email:s,phone:r})}}),[e.currentUser]);var v=function(e){var t=Object(R.a)({},O);t[e.target.name]=e.target.value,x(t),console.log(e.target.value,e.target.name)},N=function(t){t.preventDefault(),e.client.updateUser(e.currentUser._id,{userName:O.userName,nameFirst:O.nameFirst,nameLast:O.nameLast,location:m,email:O.email,phone:O.phone}).then((function(){J.b.success("Your details have been updated"),e.client.getUser(e.currentUser._id).then((function(e){return d(e.data)}))})).catch((function(){alert("an error occured, please try again")}))};return Object(n.useEffect)((function(){o&&window.localStorage.setItem("user",JSON.stringify(o))}),[o]),Object(n.useEffect)((function(){e.client.getLocations().then((function(e){var t=e.data.map((function(e){return e.locationName}));c(t)}))}),[]),Object(p.jsx)("div",{className:"profile-container",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card",style:{maxWidth:"30rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"My Profile"}),Object(p.jsx)(P.a.Subtitle,{className:"mb-2 text-muted"}),Object(p.jsxs)("form",{className:"cardFormContainer",children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputemail3",className:"col-sm-12 col-lg-3 col-form-label",children:"Username"}),Object(p.jsx)("div",{className:"col-sm-12 col-lg-9",children:Object(p.jsx)("input",{type:"username",onInput:function(e){return v(e)},className:"form-control",id:"inputUsername3",name:"userName",value:O.userName})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputFirstName3",className:"col-sm-3 col-form-label",children:"First Name"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{type:"firstname",onInput:function(e){return v(e)},className:"form-control",id:"inputFirstName3",name:"nameFirst",value:O.nameFirst})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputSurname3",className:"col-sm-3 col-form-label",children:"Surname"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{type:"surname",onInput:function(e){return v(e)},className:"form-control",id:"inputSurname3",name:"nameLast",value:O.nameLast})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-sm-3 col-form-label",children:Object(p.jsx)("label",{className:"input-form-label",form:"inputLocation",children:"Location"})}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsxs)("select",{size:"1",className:"form-control",onChange:function(e){return b(e.target.value)},id:"inputLocation",value:m,children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),a.map((function(e){return Object(p.jsx)("option",{value:e,name:"location",children:e},e)}))]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputEmail3",className:"col-sm-3 col-form-label",children:"Email"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{type:"email",onInput:function(e){return v(e)},className:"form-control",id:"inputEmail3",name:"email",value:O.email})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputPhone3",className:"col-sm-3 col-form-label",children:"Phone"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{type:"phone",onInput:function(e){return v(e)},className:"form-control",id:"inputPhone3",name:"phone",value:O.phone})})]}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{className:"button-profile",onClick:function(e){return N(e)},variant:"light",children:"Update"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})]})})})},K=s(78),Y=s(77);s(117);var Q=function(e){var t=Object(n.useState)(void 0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([["Monday",!1],["Tuesday",!1],["Wednesday",!1],["Thursday",!1],["Friday",!1],["Saturday",!1],["Sunday",!1]]),l=Object(i.a)(r,2),o=l[0],d=l[1];Object(n.useEffect)((function(){e.currentUser&&d(e.currentUser.availability)}),[e.currentUser]);var u=function(){console.log("your choices have been saved"),J.b.success("Your details have been updated"),e.client.updateUser(e.currentUser._id,{availability:o}).then((function(t){e.client.getUser(e.currentUser._id).then((function(e){return c(e.data)}))}))};return Object(n.useEffect)((function(){a&&window.localStorage.setItem("user",JSON.stringify(a))}),[a]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"volunteer-container",children:Object(p.jsx)(P.a,{id:"myDays",className:"volunteer-card",children:Object(p.jsxs)(P.a.Body,{className:"volunteer-card-body",children:[Object(p.jsx)(P.a.Title,{className:"volunteer-card-title",children:"My Available Days"}),Object(p.jsx)(P.a.Subtitle,{className:"mb-2 text-muted"}),Object(p.jsx)("br",{}),Object(p.jsx)(Y.a,{vertical:!0,className:"d-flex flex-column",children:o.map((function(e,t){return Object(p.jsx)(K.a,{className:" d-flex justify-content-between button-profile",type:"checkbox",checked:e[1],value:e[0],onChange:function(e){return function(e){var t=o.map((function(t){return e.target.value===t[0]&&(t[1]=!t[1]),t}));d(t)}(e)},children:e[0]},t)}))}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{className:"volunteer-btn button-profile",onClick:function(){return u()},variant:"light",children:"Update"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})})})})};s(118),s(119);var X=function(e){e.currentUser._id;var t=function(t){t.preventDefault();var s=document.getElementById("password1").value,n=document.getElementById("password2").value;console.log(s),console.log(n),n===s&&e.client.updateUser(e.currentUser._id,{password:n}).then((function(){J.b.success("Your details have been updated"),document.getElementById("change-password").reset()})).catch((function(){alert("an error occured, please try again")}))};return Object(p.jsx)("div",{className:"profile-container",children:Object(p.jsx)(P.a,{id:"ChangePassword",className:"profile-card",style:{maxWidth:"50rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Change password"}),Object(p.jsx)(P.a.Subtitle,{className:"mb-2 text-muted"}),Object(p.jsxs)("form",{id:"change-password",children:[Object(p.jsxs)("div",{className:"form-group row changePassword",children:[Object(p.jsx)("label",{form:"inputUsername3",className:"col-sm-4 col-form-label",children:"New Password"}),Object(p.jsx)("div",{className:"col-lg-8",children:Object(p.jsx)("input",{type:"password",className:"form-control",name:"password1",id:"password1",placeholder:"New Password"})}),Object(p.jsx)("br",{})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{form:"inputFirstName3",className:"col-sm-4 col-form-label",children:"Confirm New Password"}),Object(p.jsx)("div",{className:"col-lg-8",children:Object(p.jsx)("input",{type:"password",className:"form-control",name:"password2",id:"password2",placeholder:"Confirm Password"})})]}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{onClick:function(e){return t(e)},variant:"light",children:"Update"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})]})})})};var Z=function(e){return Object(p.jsxs)("div",{className:"row volunteerDashboardRow",children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/volunteer/calendar"},{name:"Profile",url:"/volunteer/profile"}],client:e.client})}),Object(p.jsxs)(N.a,{fluid:!0,children:[Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:8,className:"volunteerDashboardCol",children:Object(p.jsx)(H,{client:e.client,currentUser:e.currentUser})}),Object(p.jsx)(x.a,{lg:4,className:"volunteerDashboardCol",children:Object(p.jsx)(Q,{client:e.client,currentUser:e.currentUser})})]}),Object(p.jsx)(O.a,{children:Object(p.jsx)(x.a,{children:Object(p.jsx)(X,{client:e.client,currentUser:e.currentUser})})})]})]})};var $=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/customer/calendar"},{name:"Profile",url:"/customer/profile"}],client:e.client})}),Object(p.jsx)("div",{children:Object(p.jsx)(H,{client:e.client,currentUser:e.currentUser})}),Object(p.jsx)("div",{children:Object(p.jsx)(X,{client:e.client,currentUser:e.currentUser})})]})};var ee=function(e){var t=e.currentUser.location,s=Object(n.useState)(new Date),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(n.useState)(t),o=Object(i.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)([]),m=Object(i.a)(j,2),b=m[0],h=m[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),N=v[0],g=v[1],y=Object(n.useState)([]),I=Object(i.a)(y,2),V=I[0],W=I[1],q=new Date,z=function(){var e=[];return b.forEach((function(t){e.includes(t.locationName)||e.push(t.locationName)})),e},R=function(e,t){return Object(p.jsx)("div",{className:"col col-center",children:e},t)},G=function(e){for(var t=[],s=[],n=w.a(e,"yyyy-MM-dd"),a=N.map((function(e,t){if(e.date===n)return H(e,t)})),c=0;c<a.length;c++)void 0!==a[c]&&t.push(a[c]);for(var r=t.sort((function(e,t){return e[1]-t[1]})),i=0;i<r.length;i++)s.push(r[i][0]);return s},J=function(e,t){return Object(p.jsx)(E.a,{trigger:"click",placement:"bottom",overlay:ee(e),rootClose:!0,children:Object(p.jsxs)("li",{className:"dis-session-info li-show-sessions",style:{backgroundColor:e.sessionUsers.length<e.userLimit?"#0D6EFD":"#62666b",color:"White"},children:[e.sessionTimeStart," ",Q(e.userLimit).name]})},t)},H=function(e,t){var s=new Date(e.date+" "+e.sessionTimeStart);return d===e.sessionLocation||"showAll"===d?[J(e,t),s]:void 0},K=function(){r(A.a(c,1))},Y=function(){r(D.a(c,1))},Q=function(e){switch(e){case 1:return M()[0];case 2:return M()[1];case 5:return M()[2];default:return M()[3]}},X=function(e){return V.map((function(t){if(t._id===e.volunteer)return"Session volunteer: "+t.nameFirst+" "+t.nameLast}))},Z=function(e){return V.map((function(t){if(t._id===e.volunteer)return"Volunteer contact: "+t.email}))},$=function(e){var t=[];return V.map((function(s){e.sessionUsers.includes(s._id)&&t.push(s.nameFirst+" "+s.nameLast+" ")})),t.join(", ")},ee=function(e){return Object(p.jsx)(B.a,{className:"popover-main",id:"popover-trigger-click",title:"Popover bottom",children:Object(p.jsx)(P.a,{className:"popover-card",children:Object(p.jsxs)(P.a.Body,{className:"popover-body",children:[Object(p.jsx)(O.a,{className:"session-name",children:Q(e.userLimit).name}),Object(p.jsxs)(O.a,{children:[_(e)," ",e.sessionTimeStart,"-",e.sessionTimeFinish]}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{className:"location-icon",xs:"auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(p.jsx)(x.a,{className:"location-text",children:e.sessionLocation})]}),Object(p.jsx)(O.a,{className:"session-description",children:Q(e.userLimit).description}),Object(p.jsx)(O.a,{children:Q(e.userLimit).cost}),Object(p.jsxs)(O.a,{className:"members-attending",children:["Members attending: ",$(e)]}),Object(p.jsxs)(O.a,{children:["Available places: ",e.userLimit-e.sessionUsers.length]}),Object(p.jsx)(O.a,{className:"session-volunteer",children:X(e)}),Object(p.jsx)(O.a,{children:Z(e)})]})})})};return Object(n.useEffect)((function(){e.client.getSessions().then((function(e){return g(e.data)})),e.client.getUsers().then((function(e){return W(e.data)})),e.client.getLocations().then((function(e){return h(e.data)}))}),[]),Object(p.jsx)("div",{className:"calendar-main calendar-main-cga",children:Object(p.jsxs)("div",{className:"calendar",children:[Object(p.jsxs)("div",{className:"header row flex-middle",children:[Object(p.jsx)("div",{className:"col col-start",children:Object(p.jsx)("div",{className:"icon",onClick:function(){return Y()},children:"chevron_left"})}),Object(p.jsx)("div",{className:"col col-center",children:Object(p.jsx)("span",{children:w.a(c,"MMMM yyyy")})}),Object(p.jsx)("div",{className:"col col-end",onClick:function(){return K()},children:Object(p.jsx)("div",{className:"icon",children:"chevron_right"})})]}),Object(p.jsxs)(O.a,{className:"filters",children:[Object(p.jsx)(x.a,{className:"bullet-list",children:Object(p.jsxs)("ul",{className:"filter-list-bullet",children:[Object(p.jsx)("li",{className:"bullet-green bullet-blue",children:Object(p.jsx)("span",{className:"bullet-text",children:" Available to book"})}),Object(p.jsx)("li",{className:"bullet-green bullet-gray",children:Object(p.jsx)("span",{className:"bullet-text",children:" Fully booked"})})]})}),Object(p.jsx)(x.a,{lg:3,md:4,className:"dropdown-name cga-filter text-lg-end",children:"Filter calendar by location:"}),Object(p.jsx)(x.a,{lg:2,md:3,className:"user-filter-dropdown text-lg-end",children:Object(p.jsxs)("select",{className:"dropdown-list",onChange:function(e){return u(e.target.value)},value:d,children:[Object(p.jsx)("option",{value:"showAll",children:"Show All"}),z().map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))]})})]}),function(){var e;return e=window.innerWidth<768?["M","T","W","T","F","S","S"].map((function(e,t){return R(e,t)})):["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e,t){return R(e,t)})),Object(p.jsx)("div",{className:"days row",children:e})}(),function(){for(var e=S.a(c),t=k.a(e),s=C.a(e,{weekStartsOn:1}),n=U.a(t),a=[],r=[],i=s,l="";i<=n;){for(var o=0;o<7;o++)l=w.a(i,"d"),r.push(Object(p.jsxs)("div",{className:"col cell ".concat(L.a(i,e)?F.a(i,q)?"selected":"":"disabled"),children:[Object(p.jsx)("span",{className:"number",children:l}),Object(p.jsx)("span",{children:Object(p.jsx)("ul",{className:"ul-show-sessions",children:G(i)})})]},i)),i=T.a(i,1);a.push(Object(p.jsx)("div",{className:"row",children:r},i)),r=[]}return Object(p.jsx)("div",{className:"body",children:a})}()]})})},te=s(35);var se=function(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1],u=e.currentUser.location,j=function(e,t){return Object(p.jsx)(B.a,{className:"popover-main notif-overlay",id:"popover-trigger-click",title:"Popover bottom",children:h(e,t)})},m=function(e){var t=0;return e.map((function(e){!0===e.userNew&&e.location===u&&(t+=1)})),t},b=function(e,t){return e.map((function(s){if(!0===s.userNew&&s.location===u)return Object(p.jsxs)("tr",{className:"notif-user-row",children:[Object(p.jsx)("td",{children:s.nameFirst+" "+s.nameLast}),Object(p.jsx)("td",{children:s.email}),Object(p.jsx)("td",{children:s.phone}),Object(p.jsx)("td",{className:"td-center",children:Object(p.jsx)("button",{className:"button-28",onClick:function(){return f(s,t,e)},children:Object(p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(p.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(p.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})})]},s._id)}))},h=function(e,t){return Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card new-users",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:e===o?"New customers":"New volunteers"}),Object(p.jsxs)(te.a,{responsive:!0,className:"notification-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Remove"})]})}),Object(p.jsx)("tbody",{children:b(e,t)})]})]})})},f=function(t,s,n){e.client.updateUser(t._id,{userNew:!1}),s(n.filter((function(e){return t._id!==e._id})))};return Object(n.useEffect)((function(){e.client.getUserByRole("volunteer").then((function(e){c(e.data)})),e.client.getUserByRole("user").then((function(e){d(e.data)}))}),[]),Object(p.jsx)(O.a,{className:"notification-card",children:Object(p.jsx)(x.a,{children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Notifications"}),Object(p.jsx)(te.a,{responsive:!0,className:"notification-table",children:Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"New customers"}),Object(p.jsx)("th",{children:m(o)}),Object(p.jsx)("th",{children:Object(p.jsx)(E.a,{classname:"notif-overlay",trigger:"click",placement:"right",overlay:j(o,d),rootClose:!0,children:Object(p.jsx)(G.a,{className:"th-btn button-profile",disabled:0===m(o),children:"View"})})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"New volunteers"}),Object(p.jsx)("th",{children:m(a)}),Object(p.jsx)("th",{children:Object(p.jsx)(E.a,{classname:"notif-overlay",trigger:"click",placement:"right",overlay:j(a,c),rootClose:!0,children:Object(p.jsx)(G.a,{className:"th-btn button-profile",disabled:0===m(a),children:"View"})})})]})]})})]})})})})};var ne=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Dashboard",url:"/cga/dashboard"},{name:"Create Session",url:"/cga/create-session"},{name:"View Users",url:"/cga/view-users"}],client:e.client})}),Object(p.jsx)(se,{client:e.client,currentUser:e.currentUser}),Object(p.jsx)(ee,{client:e.client,currentUser:e.currentUser})]})};var ae=function(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.currentUser.location,l=Object(n.useState)(!1),o=Object(i.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(),m=Object(i.a)(j,2),b=m[0],h=m[1],f=function(){var e=[];return a.forEach((function(t){t.location===r&&e.push(t)})),e},O=function(e){var t=document.getElementById(e);return t.options[t.selectedIndex].value},x=function(t){t.preventDefault(),u(!0),"default"!==O("inputVolunteer")&&"default"!==O("inputUserLimit")?e.client.addSession(t.target.inputDate.value,O("inputVolunteer"),t.target.inputLocation.value,t.target.inputStartTime.value,t.target.inputFinishTime.value,O("inputUserLimit"),t.target.inputAdditionalDetails.value).then((function(){J.b.success("New session has been created"),u(!1),document.getElementById("sessionForm").reset()})).catch((function(){alert("an error occured, please try again"),u(!1)})):(alert("Please fill in volunteer and session type fields"),u(!1))};return Object(n.useEffect)((function(){e.client.getUserByRole("volunteer").then((function(e){return c(e.data)}))}),[]),Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Add new session"}),Object(p.jsxs)("form",{className:"cardFormContainer",id:"sessionForm",onSubmit:function(e){return x(e)},children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputDate",children:["Date",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"date",id:"inputDate",name:"inputDate",placeholder:"Date",onChange:function(e){return h(e.target.value)}})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputStartTime",children:["Start time",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"time",id:"inputStartTime",name:"inputStartTime",placeholder:"Start time"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputFinishTime",children:["Finish time",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"time",id:"inputFinishTime",name:"inputFinishTime",placeholder:"Finish time"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputLocation",children:["Location",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"location",name:"inputLocation",value:r})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputUserLimit",children:["Session type",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsxs)("select",{className:"form-control",id:"inputUserLimit",defaultValue:"default",children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),Object(p.jsx)("option",{value:"1",children:"One-to-One Coaching"}),Object(p.jsx)("option",{value:"2",children:"The Perfect Three Ball"}),Object(p.jsx)("option",{value:"5",children:"Group Session"})]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputVolunteer",children:["Volunteer",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsxs)("select",{size:"1",className:"form-control",id:"inputVolunteer",defaultValue:"default",children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),function(){var e=[6,0,1,2,3,4,5][new Date(b).getDay()],t=[];return b?(f().forEach((function(s){!0===s.availability[e][1]&&t.push(s)})),t):f()}().map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.nameFirst+" "+e.nameLast},e._id)}))]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"inputAdditionalDetails",form:"inputUserLimit",children:"Additional details"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputAdditionalDetails",name:"inputAdditionalDetails",placeholder:"Additional details",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{className:"button-profile",type:"submit",variant:"light",disabled:d,children:"Submit"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})]})})};var ce=function(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.currentUser.location,l=function(){var e=[];return a.forEach((function(t){t.location===r&&e.push(t)})),e};return Object(n.useEffect)((function(){e.client.getUserByRole("volunteer").then((function(e){return c(e.data)}))}),[]),Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card volunteer-availability-card",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Volunteer Availability"}),Object(p.jsxs)(te.a,{responsive:!0,className:"event-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Username"}),Object(p.jsx)("th",{children:"Mon"}),Object(p.jsx)("th",{children:"Tue"}),Object(p.jsx)("th",{children:"Wed"}),Object(p.jsx)("th",{children:"Thu"}),Object(p.jsx)("th",{children:"Fri"}),Object(p.jsx)("th",{children:"Sat"}),Object(p.jsx)("th",{children:"Sun"})]})}),Object(p.jsx)("tbody",{children:l().length>0?l().map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.nameFirst+" "+e.nameLast}),Object(p.jsx)("td",{children:e.userName}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"mon",readOnly:!0,checked:e.availability[0][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"tue",readOnly:!0,checked:e.availability[1][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"wed",readOnly:!0,checked:e.availability[2][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"thu",readOnly:!0,checked:e.availability[3][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"fri",readOnly:!0,checked:e.availability[4][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"sat",readOnly:!0,checked:e.availability[5][1]}),"\xa0"]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{type:"checkbox",id:"sun",readOnly:!0,checked:e.availability[6][1]}),"\xa0"]})]},e._id)})):Object(p.jsx)("tr",{className:"no-volunteers-to-show",children:Object(p.jsx)("td",{colSpan:"9",children:"No volunteers to show"})})})]})]})})};s(120);var re=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Dashboard",url:"/cga/dashboard"},{name:"Create Session",url:"/cga/create-session"},{name:"View Users",url:"/cga/view-users"}],client:e.client})}),Object(p.jsx)(N.a,{fluid:!0,children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:6,className:"create-session",children:Object(p.jsx)(ae,{client:e.client,currentUser:e.currentUser})}),Object(p.jsx)(x.a,{lg:6,children:Object(p.jsx)(ce,{client:e.client,currentUser:e.currentUser})})]})})]})};var ie=function(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)("all"),j=Object(i.a)(u,2),m=j[0],b=j[1],h=function(){var e=[];return a.forEach((function(t){"volunteer"!==t.role&&"user"!==t.role||e.push(t)})),e},f=function(e){return"String"===e.details?" ":e.details},O=function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.nameFirst+" "+e.nameLast}),Object(p.jsx)("td",{children:e.userName}),Object(p.jsx)("td",{children:e.location}),Object(p.jsx)("td",{children:(t=e,"user"===t.role?"customer":t.role)}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:e.phone}),Object(p.jsx)("td",{children:f(e)})]},e._id);var t};return Object(n.useEffect)((function(){e.client.getAdminById(e.currentUser._id).then((function(e){return d(e.data.location)}))}),[]),Object(n.useEffect)((function(){e.client.getUserByLocation(o).then((function(e){return c(e.data)}))}),[o]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Dashboard",url:"/cga/dashboard"},{name:"Create Session",url:"/cga/create-session"},{name:"View Users",url:"/cga/view-users"}],client:e.client})}),Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card registered-users-table",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"All registered users in the area"}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"dropdown-container cga-dropdown-container",children:[Object(p.jsx)("div",{className:"dropdown-name",children:"Sort by role:"}),Object(p.jsxs)("select",{className:"dropdown-list",onChange:function(e){return b(e.target.value)},value:m,children:[Object(p.jsx)("option",{value:"all",children:"All"}),Object(p.jsx)("option",{value:"customers",children:"Customers"}),Object(p.jsx)("option",{value:"volunteers",children:"Volunteers"})]})]})}),Object(p.jsxs)(te.a,{responsive:!0,className:"event-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Username"}),Object(p.jsx)("th",{children:"Location"}),Object(p.jsx)("th",{children:"Role"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Additional information"})]})}),Object(p.jsx)("tbody",{children:h().length>0?"all"===m?h().map((function(e){return O(e)})):"customers"===m?h().map((function(e){if("user"===e.role)return O(e)})):"volunteers"===m?h().map((function(e){if("volunteer"===e.role)return O(e)})):void 0:Object(p.jsx)("tr",{className:"no-users-to-show",children:Object(p.jsx)("td",{colSpan:"5",children:"No users to show"})})})]})]})})]})};var le=function(e){var t=Object(n.useState)(new Date),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)("showAll"),l=Object(i.a)(r,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(i.a)(m,2),h=b[0],f=b[1],v=Object(n.useState)([]),N=Object(i.a)(v,2),g=N[0],y=N[1],I=e.currentUser._id,V=e.currentUser.location,W=new Date,z=function(){var t=Object(d.a)(o.a.mark((function t(s,n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.addSessionUser(s,n);case 2:a=t.sent,c=h.map((function(e){return e._id===s&&(e.sessionUsers=a.data.body.sessionUsers),e})),f(c);case 5:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(o.a.mark((function t(s,n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.removeSessionUser(s,n);case 2:a=t.sent,c=h.map((function(e){return e._id===s&&(e.sessionUsers=a.data.body.sessionUsers),e})),f(c);case 5:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),J=function(e,t){return Object(p.jsx)("div",{className:"col col-center",children:e},t)},H=function(e){for(var t=[],s=[],n=w.a(e,"yyyy-MM-dd"),a=h.map((function(e,t){if(e.date===n)return Y(e,t)})),c=0;c<a.length;c++)void 0!==a[c]&&t.push(a[c]);for(var r=t.sort((function(e,t){return e[1]-t[1]})),i=0;i<r.length;i++)s.push(r[i][0]);return s},K=function(e,t){return Object(p.jsx)(E.a,{trigger:"click",placement:"bottom",overlay:ae(e),rootClose:!0,children:Object(p.jsxs)("li",{className:"dis-session-info li-show-sessions",style:{backgroundColor:e.sessionUsers.includes(I)?"#5Cb85C":e.sessionUsers.length===e.userLimit?"White":"#0D6EFD",color:e.sessionUsers.includes(I)?"White":e.sessionUsers.length===e.userLimit?"rgb(170, 163, 163)":"White"},children:[e.sessionTimeStart," ",Z(e.userLimit).name]})},t)},Y=function(e,t){var s=new Date(e.date+" "+e.sessionTimeStart);return"booked"===u&&e.sessionUsers.includes(I)||"available"===u&&!e.sessionUsers.includes(I)&&e.sessionUsers.length<e.userLimit||"showAll"===u?[K(e,t),s]:void 0},Q=function(){c(A.a(a,1))},X=function(){c(D.a(a,1))},Z=function(e){switch(e){case 1:return M()[0];case 2:return M()[1];case 5:return M()[2];default:return M()[3]}},$=function(){var e=Object(d.a)(o.a.mark((function e(t,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h.forEach(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id===s._id&&z(s._id,I);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(o.a.mark((function e(t,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h.forEach(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id===s._id&&R(s._id,I);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),te=function(e){return e.sessionUsers.includes(I)?Object(p.jsx)(G.a,{className:"btn-danger",onClick:function(t){return ee(t,e)},children:"Cancel booking"}):e.sessionUsers.includes(I)||e.sessionUsers.length!==e.userLimit?Object(p.jsx)(G.a,{className:"btn-book-session",onClick:function(t){return $(t,e)},children:"Book session"}):Object(p.jsx)(G.a,{className:"btn-secondary",children:"Fully booked"})},se=function(e){return g.map((function(t){if(e.sessionUsers.includes(I)&&t._id===e.volunteer)return"Session volunteer: "+t.nameFirst+" "+t.nameLast}))},ne=function(e){return g.map((function(t){if(e.sessionUsers.includes(I)&&t._id===e.volunteer)return"Volunteer contact: "+t.email}))},ae=function(e){return Object(p.jsx)(B.a,{className:"popover-main",id:"popover-trigger-click",title:"Popover bottom",children:Object(p.jsx)(P.a,{className:"popover-card",children:Object(p.jsxs)(P.a.Body,{className:"popover-body",children:[Object(p.jsx)(O.a,{className:"session-name",children:Z(e.userLimit).name}),Object(p.jsxs)(O.a,{children:[_(e)," ",e.sessionTimeStart,"-",e.sessionTimeFinish]}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{className:"location-icon",xs:"auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(p.jsx)(x.a,{className:"location-text",children:e.sessionLocation})]}),Object(p.jsx)(O.a,{className:"session-description",children:Z(e.userLimit).description}),Object(p.jsx)(O.a,{children:Z(e.userLimit).cost}),Object(p.jsx)(O.a,{className:"session-volunteer",children:se(e)}),Object(p.jsx)(O.a,{children:ne(e)}),Object(p.jsx)(O.a,{className:"booking-btn-row",children:te(e)})]})})})};return Object(n.useEffect)((function(){e.client.getSessionByLocation(V).then((function(e){return f(e.data)})),e.client.getUsers().then((function(e){return y(e.data)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/customer/calendar"},{name:"Profile",url:"/customer/profile"}],client:e.client})}),Object(p.jsxs)("div",{className:"calendar",children:[Object(p.jsxs)("div",{className:"header row flex-middle",children:[Object(p.jsx)("div",{className:"col col-start",children:Object(p.jsx)("div",{className:"icon",onClick:function(){return X()},children:"chevron_left"})}),Object(p.jsx)("div",{className:"col col-center",children:Object(p.jsx)("span",{children:w.a(a,"MMMM yyyy")})}),Object(p.jsx)("div",{className:"col col-end",onClick:function(){return Q()},children:Object(p.jsx)("div",{className:"icon",children:"chevron_right"})})]}),Object(p.jsxs)(O.a,{className:"filters",children:[Object(p.jsx)(x.a,{className:"bullet-list",children:Object(p.jsxs)("ul",{className:"filter-list-bullet",children:[Object(p.jsx)("li",{className:"bullet-green",children:Object(p.jsx)("span",{className:"bullet-text",children:"Booked sessions"})}),Object(p.jsx)("li",{className:"bullet-green bullet-blue",children:Object(p.jsx)("span",{className:"bullet-text",children:" Sessions available to book"})})]})}),Object(p.jsx)(x.a,{lg:5,md:4,className:"dropdown-name user-filter",children:"Filter calendar by your booked sessions or sessions still available to book:"}),Object(p.jsx)(x.a,{lg:2,md:3,className:"user-filter-dropdown",children:Object(p.jsxs)("select",{className:"dropdown-list",onChange:function(e){return j(e.target.value)},value:u,children:[Object(p.jsx)("option",{className:"dropdown-option",value:"showAll",children:"Show All"}),Object(p.jsx)("option",{className:"dropdown-option",value:"booked",children:"Booked Sessions"}),Object(p.jsx)("option",{className:"dropdown-option",value:"available",children:"Available Sessions"})]})})]}),function(){var e;return e=window.innerWidth<768?["M","T","W","T","F","S","S"].map((function(e,t){return J(e,t)})):["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e,t){return J(e,t)})),Object(p.jsx)("div",{className:"days row",children:e})}(),function(){for(var e=S.a(a),t=k.a(e),s=C.a(e,{weekStartsOn:1}),n=U.a(t),c=[],r=[],i=s,l="";i<=n;){for(var o=0;o<7;o++)l=w.a(i,"d"),r.push(Object(p.jsxs)("div",{className:"col cell ".concat(L.a(i,e)?F.a(i,W)?"selected":"":"disabled"),children:[Object(p.jsx)("span",{className:"number",children:l}),Object(p.jsx)("span",{children:Object(p.jsx)("ul",{className:"ul-show-sessions",children:H(i)})})]},i)),i=T.a(i,1);c.push(Object(p.jsx)("div",{className:"row",children:r},i)),r=[]}return Object(p.jsx)("div",{className:"body",children:c})}()]})]})},oe=(s(121),s(79));var de=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[{name:"Home",url:"/home"},{name:"Sign In as Customer",url:"/login/user"},{name:"Sign In as Volunteer",url:"/login/volunteer"},{name:"Create an account",url:"/register"}],client:e.client,landing:!0})}),Object(p.jsx)("div",{className:"landing-text",children:Object(p.jsxs)("h1",{children:[Object(p.jsx)("i",{children:"\u201cOur lives begin to end when we become silent about the things that really matter in life\u201d"}),". ",Object(p.jsx)("b",{children:"Dr Martin Luther King."})]})}),Object(p.jsxs)(N.a,{children:[Object(p.jsx)("b",{}),Object(p.jsx)("b",{}),Object(p.jsx)(oe.a,{className:"Landing-image",src:"/golf-frontend/crowd-wave.jpg"})]}),Object(p.jsxs)("div",{className:"landing-text",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:"Volunteering"})}),Object(p.jsx)("h3",{children:"Volunteers who want to give something back to their local community through sport are the types of people we are interested in recruiting. Our \u201cgolf buddy\u201d role means you get the chance to make a difference to people\u2019s lives whilst enjoying a sport you love. For a full list of volunteer opportunities and venues, please visit our website."})]}),Object(p.jsx)("br",{}),Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:"Members"})}),Object(p.jsx)("p",{children:Object(p.jsx)("h3",{children:"We are always looking to support more families with our golf sessions. The good news is that no previous golf experience is required to get involved. So, if you, or someone you know is looking for a service that supports carers and people diagnosed with dementia simultaneously, then our services could be the perfect match."})})]})]})},ue=(s(70),function(e){var t=e.suggestions,s=e.input,a=e.setInput,c=e.newClassName,r=e.placeholder,l=Object(n.useState)([]),o=Object(i.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(0),m=Object(i.a)(j,2),b=m[0],h=m[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),x=O[0],v=O[1],N=function(e){u([]),a(e.target.innerText),h(0),v(!1)},g=function(){return d.length?Object(p.jsx)("ul",{class:"suggestions",children:d.map((function(e,t){var s;return t===b&&(s="suggestion-active"),Object(p.jsx)("li",{className:s,onClick:N,children:e},e)}))}):Object(p.jsx)("div",{class:"no-suggestions",children:"No member found"})};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"suggestion-dropdown",children:[Object(p.jsx)("input",{type:"text",onChange:function(e){var s=e.target.value,n=t.filter((function(e){return e.toLowerCase().indexOf(s.toLowerCase())>-1}));a(e.target.value),u(n),h(0),v(!0)},onKeyDown:function(e){if(13===e.keyCode)a(d[b]),h(0),v(!1);else if(38===e.keyCode){if(0===b)return;h(b-1)}else if(40===e.keyCode){if(b-1===d.length)return;h(b+1)}},value:s,className:c,name:"user",placeholder:r,autoComplete:"off",id:"userform"}),x&&s&&Object(p.jsx)(g,{})]})})});var je=function(e){var t=Object(n.useState)(new Date),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(void 0),l=Object(i.a)(r,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(i.a)(m,2),h=b[0],f=b[1],v=Object(n.useState)([]),N=Object(i.a)(v,2),g=N[0],y=N[1],I=Object(n.useState)("showAll"),V=Object(i.a)(I,2),W=V[0],z=V[1],R=Object(n.useState)(""),J=Object(i.a)(R,2),H=J[0],K=J[1],Y=Object(n.useState)(""),Q=Object(i.a)(Y,2),X=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ne=e.currentUser.location,ae=new Date,ce=function(){var e=[];return g.map((function(t){"user"===t.role&&e.push(t.nameFirst+" "+t.nameLast+" - "+t.userName)})),e},re=function(){var t=Object(d.a)(o.a.mark((function t(s,n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.addSessionUser(s,n);case 2:a=t.sent,c=h.map((function(e){return e._id===s&&(e.sessionUsers=a.data.body.sessionUsers),e})),f(c);case 5:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),ie=function(){var t=Object(d.a)(o.a.mark((function t(s,n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.removeSessionUser(s,n);case 2:a=t.sent,c=h.map((function(e){return e._id===s&&(e.sessionUsers=a.data.body.sessionUsers),e})),f(c);case 5:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),le=function(e,t){return Object(p.jsx)("div",{className:"col col-center",children:e},t)},oe=function(e){for(var t=[],s=[],n=w.a(e,"yyyy-MM-dd"),a=h.map((function(e,t){if(e.date===n)return je(e,t)})),c=0;c<a.length;c++)void 0!==a[c]&&t.push(a[c]);for(var r=t.sort((function(e,t){return e[1]-t[1]})),i=0;i<r.length;i++)s.push(r[i][0]);return s},de=function(e,t){return Object(p.jsx)(E.a,{trigger:"click",placement:"bottom",overlay:Le(e),rootClose:!0,children:Object(p.jsxs)("li",{className:"dis-session-info li-show-sessions",style:{backgroundColor:void 0!==u&&e.sessionUsers.includes(u)?"Green":e.sessionUsers.length<e.userLimit?"#0D6EFD":"#62666b",color:"White"},children:[e.sessionTimeStart," ",he(e.userLimit).name]})},t)},je=function(e,t){var s=new Date(e.date+" "+e.sessionTimeStart);return"available"===W&&e.sessionUsers.length<e.userLimit&&!e.sessionUsers.includes(u)||"showAll"===W?[de(e,t),s]:void 0},me=function(){c(A.a(a,1))},be=function(){c(D.a(a,1))},he=function(e){switch(e){case 1:return M()[0];case 2:return M()[1];case 5:return M()[2];default:return M()[3]}},fe=function(e){return e.sessionUsers.includes(u)?Object(p.jsx)(G.a,{className:"btn-danger",onClick:function(t){return function(e,t){e.preventDefault(),h.forEach((function(e){e.id===t.id&&ie(t._id,u)}))}(t,e)},children:"Cancel booking"}):e.sessionUsers.includes(u)||e.sessionUsers.length!==e.userLimit?Object(p.jsx)(G.a,{className:"btn-book-session",onClick:function(t){return function(e,t){e.preventDefault(),u&&h.forEach((function(e){e._id===t._id&&void 0!==u&&re(t._id,u)}))}(t,e)},children:"Book session"}):Object(p.jsx)(G.a,{className:"btn-secondary",children:"Fully booked"})},Oe=function(e){return g.map((function(t){if(t._id===e.volunteer)return"Session volunteer: "+t.nameFirst+" "+t.nameLast}))},xe=function(e){return g.map((function(t){if(t._id===e.volunteer)return"Volunteer contact: "+t.email}))},pe=function(e,t){if(e.preventDefault(),t.includes(e.target.user.value)){var s=e.target.user.value.split("- ");g.forEach((function(e){s[1]===e.userName&&j(e._id)}))}else j(void 0)},ve=function(){j(void 0),K("")},Ne=function(e){var t=we(e);return Object(p.jsxs)("form",{className:"user-book-form",onSubmit:function(s){return ge(s,e,t)},id:"adminUserBookingForm",children:[Object(p.jsx)("label",{className:"user-book-form-label",for:"userform",children:"Book for a user: "}),Object(p.jsx)(ue,{newClassName:"search-field",placeholder:"Search by user...",input:X,setInput:Z,suggestions:t}),Object(p.jsx)(G.a,{className:"btn-book-session btn-book-session-margin",type:"submit",children:"Book"})]})},ge=function(e,t,s){if(e.preventDefault(),s.includes(e.target.user.value)){var n,a=e.target.user.value.split("- ");g.forEach((function(e){a[1]===e.userName&&(n=e._id)})),h.forEach((function(e){e._id===t._id&&re(t._id,n)}))}Z("")},ye=function(e){var t=[],s=[];h.forEach((function(s){s._id===e._id&&t.push(s.sessionUsers)}));for(var n=function(e){g.forEach((function(n){n._id===t[0][e]&&s.push(n.nameFirst+" "+n.nameLast+" - "+n.userName)}))},a=0;a<t[0].length;a++)n(a);return s},we=function(e){var t=ce(),s=ye(e);return t.filter((function(e){return!s.includes(e)}))},Se=function(e){var t=ye(e);return Object(p.jsxs)("form",{className:"user-book-form",onSubmit:function(s){return ke(s,e,t)},id:"adminUserCancelForm",children:[Object(p.jsx)("label",{className:"user-book-form-label",for:"userform",children:"Cancel booking for a user: "}),Object(p.jsx)(ue,{newClassName:"search-field",placeholder:"Search by user...",input:te,setInput:se,suggestions:t}),Object(p.jsx)(G.a,{className:"btn-danger booking-submit",type:"submit",children:"Cancel booking"})]})},ke=function(e,t,s){if(e.preventDefault(),s.includes(e.target.user.value)){var n,a=e.target.user.value.split("- ");g.forEach((function(e){a[1]===e.userName&&(n=e._id)})),h.forEach((function(e){e._id===t._id&&ie(t._id,n)}))}se("")},Ce=function(e){return e.sessionUsers.length===e.userLimit?Object(p.jsxs)("div",{children:[Object(p.jsx)(G.a,{className:"btn-secondary",children:"Fully booked"}),Se(e)]}):Object(p.jsxs)("div",{children:[Ne(e),Se(e)]})},Ue=function(e){var t=[];return g.map((function(s){e.sessionUsers.includes(s._id)&&t.push(s.nameFirst+" "+s.nameLast+" ")})),t.join(", ")},Le=function(e){return Object(p.jsx)(B.a,{className:"popover-main",id:"popover-trigger-click",title:"Popover bottom",children:Object(p.jsx)(P.a,{className:"popover-card",children:Object(p.jsxs)(P.a.Body,{className:"popover-body",children:[Object(p.jsx)(O.a,{className:"session-name",children:he(e.userLimit).name}),Object(p.jsxs)(O.a,{children:[_(e)," ",e.sessionTimeStart,"-",e.sessionTimeFinish]}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{className:"location-icon",xs:"auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(p.jsx)(x.a,{className:"location-text",children:e.sessionLocation})]}),Object(p.jsx)(O.a,{className:"session-description",children:he(e.userLimit).description}),Object(p.jsx)(O.a,{children:he(e.userLimit).cost}),Object(p.jsxs)(O.a,{children:["Members attending: ",Ue(e)]}),Object(p.jsxs)(O.a,{children:["Available places: ",e.userLimit-e.sessionUsers.length]}),Object(p.jsx)(O.a,{className:"session-volunteer",children:Oe(e)}),Object(p.jsx)(O.a,{children:xe(e)}),Object(p.jsx)(O.a,{className:"booking-btn-row ",children:u?fe(e):""}),Object(p.jsx)(O.a,{className:"admin-user-booking-buttons",children:u?"":Ce(e)})]})})})};return Object(n.useEffect)((function(){e.client.getSessionByLocation(ne).then((function(e){return f(e.data)})),e.client.getUsers().then((function(e){return y(e.data)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/admin/calendar"},{name:"Register a customer",url:"/admin/register-customer"}],client:e.client})}),Object(p.jsxs)("div",{className:"calendar",children:[Object(p.jsxs)("div",{className:"header row flex-middle",children:[Object(p.jsx)("div",{className:"col col-start",children:Object(p.jsx)("div",{className:"icon",onClick:function(){return be()},children:"chevron_left"})}),Object(p.jsx)("div",{className:"col col-center",children:Object(p.jsx)("span",{children:w.a(a,"MMMM yyyy")})}),Object(p.jsx)("div",{className:"col col-end",onClick:function(){return me()},children:Object(p.jsx)("div",{className:"icon",children:"chevron_right"})})]}),function(){var e=ce();return Object(p.jsxs)(O.a,{className:"filters",children:[Object(p.jsx)(x.a,{className:"bullet-list",children:Object(p.jsxs)("ul",{className:"filter-list-bullet",children:[Object(p.jsx)("li",{className:"bullet-green",children:Object(p.jsx)("span",{className:"bullet-text",children:"Booked sessions for the selected user"})}),Object(p.jsx)("li",{className:"bullet-green bullet-blue",children:Object(p.jsx)("span",{className:"bullet-text",children:" Available to book"})}),Object(p.jsx)("li",{className:"bullet-green bullet-gray",children:Object(p.jsx)("span",{className:"bullet-text",children:" Fully booked"})})]})}),Object(p.jsxs)(x.a,{lg:8,md:8,children:[Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:8,md:6,className:"dropdown-name text-lg-end txt-align-end",children:"Filter calendar by available sessions:"}),Object(p.jsx)(x.a,{className:"user-filter-dropdown txt-align-end",children:Object(p.jsxs)("select",{className:"dropdown-list ",onChange:function(e){return z(e.target.value)},value:W,children:[Object(p.jsx)("option",{className:"dropdown-option",value:"showAll",children:"Show All"}),Object(p.jsx)("option",{className:"dropdown-option",value:"available",children:"Available Sessions"})]})})]}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:5,md:5,className:"dropdown-name text-lg-end txt-align-end",children:Object(p.jsx)("label",{for:"userform",children:"Search sessions by user: "})}),Object(p.jsx)(x.a,{className:"txt-align-end",children:Object(p.jsxs)("form",{className:"user-search-form",onSubmit:function(t){return pe(t,e)},id:"addUserSearchForm",children:[Object(p.jsx)(ue,{newClassName:"search-field",placeholder:"Search by user...",input:H,setInput:K,suggestions:e}),Object(p.jsx)(G.a,{className:"user-submit-btn general-btn",type:"submit",children:"Search"}),Object(p.jsx)(G.a,{className:"show-all general-btn",onClick:function(){return ve()},children:"Show All"})]})})]})]})]})}(),function(){var e;return e=window.innerWidth<768?["M","T","W","T","F","S","S"].map((function(e,t){return le(e,t)})):["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e,t){return le(e,t)})),Object(p.jsx)("div",{className:"days row",children:e})}(),function(){for(var e=S.a(a),t=k.a(e),s=C.a(e,{weekStartsOn:1}),n=U.a(t),c=[],r=[],i=s,l="";i<=n;){for(var o=0;o<7;o++)l=w.a(i,"d"),r.push(Object(p.jsxs)("div",{className:"col cell ".concat(L.a(i,e)?F.a(i,ae)?"selected":"":"disabled"),children:[Object(p.jsx)("span",{className:"number",children:l}),Object(p.jsx)("span",{children:Object(p.jsx)("ul",{className:"ul-show-sessions",children:oe(i)})})]},i)),i=T.a(i,1);c.push(Object(p.jsx)("div",{className:"row",children:r},i)),r=[]}return Object(p.jsx)("div",{className:"body",children:c})}()]})]})};var me=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(t){t.preventDefault(),e.client.addUser({userName:t.target.username.value,password:t.target.password.value,location:t.target.location.value,role:"user",email:t.target.email.value,phone:t.target.phone.value,nameFirst:t.target.nameFirst.value,nameLast:t.target.nameLast.value,details:t.target.adDetail.value}).then((function(e){c(!1),J.b.success("New user added"),l()})).catch((function(){alert("please fill in all required fields"),c(!1),l()}))},l=function(){document.getElementById("addLogin").reset()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/admin/calendar"},{name:"Register a customer",url:"/admin/register-customer"}],client:e.client})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",style:{maxWidth:"30rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Register a new customer"}),Object(p.jsxs)("form",{onSubmit:function(e){return r(e)},id:"addLogin",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"username",children:["Username",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"password",children:["Password",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"location",children:["Location",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"location",placeholder:"Location",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"email",children:["Email",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"email",placeholder:"Email",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"phone",children:"Phone"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"phone",placeholder:"Phone",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"nameFirst",children:["First name",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"nameFirst",placeholder:"First name",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"nameLast",children:"Last name"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"nameLast",placeholder:"Last name",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"adDetail",children:"Additional details"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"adDetail",placeholder:"Additional details",disabled:a,autoComplete:"off"})})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"btn-container justify-content-center",children:[Object(p.jsxs)(G.a,{className:"button-profile",type:"submit",disabled:a,children:[" ","Register"," "]}),Object(p.jsx)(J.a,{position:"bottom-center"})]}),Object(p.jsx)("br",{})]})]})})})})]})};var be=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(y.f)(),l=function(){document.getElementById("addLogin").reset()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[{name:"Home",url:"/home"},{name:"Sign In as Customer",url:"/login/user"},{name:"Sign In as Volunteer",url:"/login/volunteer"},{name:"Create an account",url:"/register"}],client:e.client,landing:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",style:{maxWidth:"20rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Sign in as a customer"}),Object(p.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),c(!0),e.client.userlogin(t.target.username.value,t.target.password.value).then((function(t){c(!1),"user"===t.data.user.role?(e.loggedIn(t.data.user.token),e.setUser(t.data.user),r.push("/customer/calendar")):(alert("not a valid username or password"),c(!1),l())})).catch((function(){alert("not a valid username or password"),c(!1),l()}))}(t)},id:"addLogin",children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"btn-container justify-content-center",children:Object(p.jsxs)(G.a,{className:"button-profile",type:"submit",disabled:a,children:[" ","Sign In"," "]})}),Object(p.jsx)("br",{})]})]})})})})]})};var he=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(y.f)(),l=function(){document.getElementById("addLogin").reset()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[{name:"Home",url:"/home"},{name:"Sign In as Customer",url:"/login/user"},{name:"Sign In as Volunteer",url:"/login/volunteer"},{name:"Create an account",url:"/register"}],client:e.client,landing:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",style:{maxWidth:"20rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Sign in as a volunteer"}),Object(p.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),c(!0),e.client.userlogin(t.target.username.value,t.target.password.value).then((function(t){"volunteer"===t.data.user.role?(e.loggedIn(t.data.user.token),e.setUser(t.data.user),r.push("/volunteer/calendar")):(alert("not a valid username or password"),c(!1),l())})).catch((function(){alert("not a valid username or password"),c(!1),l()}))}(t)},id:"addLogin",children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"btn-container justify-content-center",children:Object(p.jsxs)(G.a,{className:"button-profile",type:"submit",disabled:a,children:[" ","Sign In"," "]})}),Object(p.jsx)("br",{})]})]})})})})]})};var fe=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(y.f)(),l=function(){document.getElementById("addLogin").reset()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[{name:"Home",url:"/home"},{name:"Sign In as Customer",url:"/login/user"},{name:"Sign In as Volunteer",url:"/login/volunteer"},{name:"Create an account",url:"/register"}],client:e.client,landing:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",style:{maxWidth:"20rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Admin Log In"}),Object(p.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),c(!0),e.client.adminlogin(t.target.username.value,t.target.password.value).then((function(t){"CGA"===t.data.admin.role?(e.loggedIn(t.data.admin.token),e.setUser(t.data.admin),r.push("/cga/dashboard")):"admin"===t.data.admin.role?(e.loggedIn(t.data.admin.token),e.setUser(t.data.admin),r.push("/admin/calendar")):"manager"===t.data.admin.role?(e.loggedIn(t.data.admin.token),e.setUser(t.data.admin),r.push("/manager/calendar")):(alert("not a valid username or password"),c(!1),l())})).catch((function(){alert("not a valid username or password"),c(!1),l()}))}(t)},id:"addLogin",children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",disabled:a,autoComplete:"off"}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"btn-container justify-content-center",children:Object(p.jsxs)(G.a,{className:"button-profile",type:"submit",disabled:a,children:[" ","Sign In"," "]})}),Object(p.jsx)("br",{})]})]})})})})]})};var Oe=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(""),j=Object(i.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),O=f[0],x=f[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),g=N[0],y=N[1];Object(n.useEffect)((function(){e.client.getLocations().then((function(e){var t=e.data.map((function(e){return e.locationName}));x(t)}))}),[]);var w=function(){document.getElementById("addRegister").reset()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[{name:"Home",url:"/home"},{name:"Sign In as Customer",url:"/login/user"},{name:"Sign In as Volunteer",url:"/login/volunteer"},{name:"Create an account",url:"/register"}],client:e.client,landing:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",style:{maxWidth:"30rem"},children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:g?"":"Create an account"}),g?"volunteer"===o?Object(p.jsxs)("div",{className:"account-sign-up",children:["New account successfully created! ",Object(p.jsx)("br",{})," Log in ",Object(p.jsx)("a",{href:"#/login/volunteer",className:"purple-text",onClick:function(){y(!1)},children:"here"})]}):Object(p.jsxs)("div",{className:"account-sign-up",children:["New account successfully created! ",Object(p.jsx)("br",{})," Log in ",Object(p.jsx)("a",{href:"#/login/user",className:"purple-text",onClick:function(){y(!1)},children:"here"})]}):Object(p.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.client.addUser({userName:t.target.username.value,password:t.target.password.value,location:m,role:o,email:t.target.email.value,phone:t.target.phone.value,nameFirst:t.target.nameFirst.value,nameLast:t.target.nameLast.value,details:t.target.adDetail.value}).then((function(){c(!1),w(),y(!0)})).catch((function(e){alert("an error occurred, please try again"),c(!1),w()}))}(t)},id:"addRegister",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"username",children:["Username",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"password",children:["Password",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"location",children:["Role",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsxs)("select",{className:"form-control",id:"inputLocation",onChange:function(e){return d(e.target.value)},defaultValue:"default",children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),Object(p.jsx)("option",{value:"user",children:"Customer"}),Object(p.jsx)("option",{value:"volunteer",children:"Volunteer"})]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"location",children:["Location",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsxs)("select",{size:"1",className:"form-control",onChange:function(e){return b(e.target.value)},id:"inputLocation",defaultValue:"default",children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),O.map((function(e){return Object(p.jsx)("option",{value:e,name:"location",children:e},e)}))]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"email",children:["Email",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"email",placeholder:"Email",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"phone",children:"Phone"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"phone",placeholder:"Phone",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"nameFirst",children:["First name",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"nameFirst",placeholder:"First name",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"nameLast",children:"Last name"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"nameLast",placeholder:"Last name",disabled:a,autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"adDetail",children:"Additional details"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",name:"adDetail",placeholder:"Additional details",disabled:a,autoComplete:"off"})})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"btn-container justify-content-center",children:Object(p.jsxs)(G.a,{className:"button-profile",type:"submit",disabled:a,children:[" ","Register"," "]})}),Object(p.jsx)("br",{})]})]})})})})]})};var xe=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],u=e.currentUser._id,j=function(){var t=[];return e.admins.map((function(e){"CGA"===e.role&&t.push(e.nameFirst+" "+e.nameLast+" - "+e.userName)})),t},m=function(){J.b.success("New session has been created")};return Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Add new area"}),Object(p.jsxs)("form",{className:"cardFormContainer",id:"newAreaForm",onSubmit:function(t){return function(t){if(t.preventDefault(),d(!0),j().includes(t.target.user.value)){var s,n=t.target.user.value.split(" - ");e.admins.forEach((function(e){n[1]===e.userName&&(s=e._id)})),e.client.addLocation({locationName:t.target.inputLocation.value,activeCGA:s,manager:u}),e.client.updateCgaLocation(s,t.target.inputLocation.value).then((function(){m(),d(!1),document.getElementById("newAreaForm").reset(),c("")})).catch((function(){alert("an error occured, please try again"),d(!1)}))}else""===t.target.user.value?e.client.addLocation({locationName:t.target.inputLocation.value,manager:u}).then((function(){m(),d(!1),document.getElementById("newAreaForm").reset(),c("")})).catch((function(){alert("an error occured, please try again"),d(!1)})):alert("Please select active CGA from the list or leave it empty")}(t)},children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputLocation",children:["Location",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputLocation",name:"inputLocation",placeholder:"Location",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"inputCga",children:"Active CGA"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)(ue,{newClassName:"form-control",placeholder:"Search by CGA...",input:a,setInput:c,suggestions:j()})})]}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{className:"button-profile",type:"submit",variant:"light",disabled:o,children:"Submit"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})]})})};var pe=function(e){var t=Object(n.useState)("none"),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),m=j[0],b=j[1],h=function(t){t.preventDefault(),b(!0),e.client.addCga(t.target.inputUsername.value,t.target.inputPassword.value,a,t.target.inputEmail.value,t.target.inputPhone.value,t.target.inputNamefirst.value,t.target.inputNamelast.value).then((function(){J.b.success("New session has been created"),e.cNewCga(!e.newCga),b(!1),document.getElementById("newCgaForm").reset()})).catch((function(){alert("an error occured, please try again"),b(!1)}))};return Object(n.useEffect)((function(){e.client.getLocations().then((function(e){return d(e.data)}))}),[]),Object(p.jsx)(P.a,{id:"myProfile",className:"profile-card cga-session-card",children:Object(p.jsxs)(P.a.Body,{className:"profile-card-body",children:[Object(p.jsx)(P.a.Title,{className:"profile-card-title",children:"Add new Community Golf Activator"}),Object(p.jsxs)("form",{className:"cardFormContainer",id:"newCgaForm",onSubmit:function(e){return h(e)},children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputUsername",children:["Username",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputUsername",name:"inputUsername",placeholder:"Username",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputPassword",children:["Password",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"password",id:"inputPassword",name:"inputPassword",placeholder:"Password",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"inputLocation",children:"Location"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsxs)("select",{className:"form-control",id:"inputLocation",onChange:function(e){return c(e.target.value)},defaultValue:"default",children:[Object(p.jsx)("option",{value:"default",disabled:!0,children:"-- select an option --"}),Object(p.jsx)("option",{value:"none",children:"None of the below"}),function(){var e=[];return o.forEach((function(t){e.includes(t.locationName)||e.push(t.locationName)})),e}().map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))]})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputNamefirst",children:["First name",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputNamefirst",name:"inputNamefirst",placeholder:"First name",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"inputNamelast",children:"Last name"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputNamelast",name:"inputNamelast",placeholder:"Last name",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsx)("label",{className:"input-form-label",form:"inputPhone",children:"Phone"})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputPhone",name:"inputPhone",placeholder:"Phone",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-form-label col-sm-4",children:Object(p.jsxs)("label",{className:"input-form-label",form:"inputEmail",children:["Email",Object(p.jsx)("span",{className:"required-asterisk",children:"*"})]})}),Object(p.jsx)("div",{className:"col-sm-8",children:Object(p.jsx)("input",{className:"form-control",type:"text",id:"inputEmail",name:"inputEmail",placeholder:"Email",autoComplete:"off"})})]}),Object(p.jsxs)("div",{className:"btn-container justify-content-end",children:[Object(p.jsx)(G.a,{className:"button-profile",type:"submit",variant:"light",disabled:m,children:"Submit"}),Object(p.jsx)(J.a,{position:"bottom-center"})]})]})]})})};var ve=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1];return Object(n.useEffect)((function(){e.client.getAdmins().then((function(e){return d(e.data)}))}),[a]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/manager/calendar"},{name:"Add new areas",url:"/manager/new-areas"}],client:e.client})}),Object(p.jsx)(N.a,{fluid:!0,children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{lg:6,className:"create-session",children:Object(p.jsx)(xe,{client:e.client,currentUser:e.currentUser,admins:o})}),Object(p.jsx)(x.a,{lg:6,children:Object(p.jsx)(pe,{client:e.client,cNewCga:c,newCga:a})})]})})]})};var Ne=function(e){var t=Object(n.useState)(new Date),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)("showAll"),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)([]),j=Object(i.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),v=f[0],N=f[1],g=Object(n.useState)([]),y=Object(i.a)(g,2),I=y[0],V=y[1],W=new Date,z=function(){var e=[];return m.forEach((function(t){e.includes(t.locationName)||e.push(t.locationName)})),e},R=function(e,t){return Object(p.jsx)("div",{className:"col col-center",children:e},t)},G=function(e){for(var t=[],s=[],n=w.a(e,"yyyy-MM-dd"),a=v.map((function(e,t){if(e.date===n)return H(e,t)})),c=0;c<a.length;c++)void 0!==a[c]&&t.push(a[c]);for(var r=t.sort((function(e,t){return e[1]-t[1]})),i=0;i<r.length;i++)s.push(r[i][0]);return s},J=function(e,t){return Object(p.jsx)(E.a,{trigger:"click",placement:"bottom",overlay:ee(e),rootClose:!0,children:Object(p.jsxs)("li",{className:"dis-session-info li-show-sessions",style:{backgroundColor:e.sessionUsers.length<e.userLimit?"#0D6EFD":"#62666b",color:"White"},children:[e.sessionTimeStart," ",Q(e.userLimit).name]})},t)},H=function(e,t){var s=new Date(e.date+" "+e.sessionTimeStart);return o===e.sessionLocation||"showAll"===o?[J(e,t),s]:void 0},K=function(){c(A.a(a,1))},Y=function(){c(D.a(a,1))},Q=function(e){switch(e){case 1:return M()[0];case 2:return M()[1];case 5:return M()[2];default:return M()[3]}},X=function(e){return I.map((function(t){if(t._id===e.volunteer)return"Session volunteer: "+t.nameFirst+" "+t.nameLast}))},Z=function(e){return I.map((function(t){if(t._id===e.volunteer)return"Volunteer contact: "+t.email}))},$=function(e){var t=[];return I.map((function(s){e.sessionUsers.includes(s._id)&&t.push(s.nameFirst+" "+s.nameLast+" ")})),t.join(", ")},ee=function(e){return Object(p.jsx)(B.a,{className:"popover-main",id:"popover-trigger-click",title:"Popover bottom",children:Object(p.jsx)(P.a,{className:"popover-card",children:Object(p.jsxs)(P.a.Body,{className:"popover-body",children:[Object(p.jsx)(O.a,{className:"session-name",children:Q(e.userLimit).name}),Object(p.jsxs)(O.a,{children:[_(e)," ",e.sessionTimeStart,"-",e.sessionTimeFinish]}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{className:"location-icon",xs:"auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(p.jsx)(x.a,{className:"location-text",children:e.sessionLocation})]}),Object(p.jsx)(O.a,{className:"session-description",children:Q(e.userLimit).description}),Object(p.jsx)(O.a,{children:Q(e.userLimit).cost}),Object(p.jsxs)(O.a,{className:"members-attending",children:["Members attending: ",$(e)]}),Object(p.jsxs)(O.a,{children:["Available places: ",e.userLimit-e.sessionUsers.length]}),Object(p.jsx)(O.a,{className:"session-volunteer",children:X(e)}),Object(p.jsx)(O.a,{children:Z(e)})]})})})};return Object(n.useEffect)((function(){e.client.getSessions().then((function(e){return N(e.data)})),e.client.getUsers().then((function(e){return V(e.data)})),e.client.getLocations().then((function(e){return b(e.data)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"navOffset",children:Object(p.jsx)(q,{links:[!1,{name:"Calendar",url:"/manager/calendar"},{name:"Add new areas",url:"/manager/new-areas"}],client:e.client})}),Object(p.jsx)("div",{className:"calendar-main",children:Object(p.jsxs)("div",{className:"calendar",children:[Object(p.jsxs)("div",{className:"header row flex-middle",children:[Object(p.jsx)("div",{className:"col col-start",children:Object(p.jsx)("div",{className:"icon",onClick:function(){return Y()},children:"chevron_left"})}),Object(p.jsx)("div",{className:"col col-center",children:Object(p.jsx)("span",{children:w.a(a,"MMMM yyyy")})}),Object(p.jsx)("div",{className:"col col-end",onClick:function(){return K()},children:Object(p.jsx)("div",{className:"icon",children:"chevron_right"})})]}),Object(p.jsxs)(O.a,{className:"filters",children:[Object(p.jsx)(x.a,{className:"bullet-list",children:Object(p.jsxs)("ul",{className:"filter-list-bullet",children:[Object(p.jsx)("li",{className:"bullet-green bullet-blue",children:Object(p.jsx)("span",{className:"bullet-text",children:" Available to book"})}),Object(p.jsx)("li",{className:"bullet-green bullet-gray",children:Object(p.jsx)("span",{className:"bullet-text",children:" Fully booked"})})]})}),Object(p.jsx)(x.a,{lg:3,md:4,className:"dropdown-name cga-filter text-lg-end",children:"Filter calendar by location:"}),Object(p.jsx)(x.a,{lg:2,md:3,className:"user-filter-dropdown text-lg-end",children:Object(p.jsxs)("select",{className:"dropdown-list",onChange:function(e){return d(e.target.value)},value:o,children:[Object(p.jsx)("option",{value:"showAll",children:"Show All"}),z().map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))]})})]}),function(){var e;return e=window.innerWidth<768?["M","T","W","T","F","S","S"].map((function(e,t){return R(e,t)})):["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e,t){return R(e,t)})),Object(p.jsx)("div",{className:"days row",children:e})}(),function(){for(var e=S.a(a),t=k.a(e),s=C.a(e,{weekStartsOn:1}),n=U.a(t),c=[],r=[],i=s,l="";i<=n;){for(var o=0;o<7;o++)l=w.a(i,"d"),r.push(Object(p.jsxs)("div",{className:"col cell ".concat(L.a(i,e)?F.a(i,W)?"selected":"":"disabled"),children:[Object(p.jsx)("span",{className:"number",children:l}),Object(p.jsx)("span",{children:Object(p.jsx)("ul",{className:"ul-show-sessions",children:G(i)})})]},i)),i=T.a(i,1);c.push(Object(p.jsx)("div",{className:"row",children:r},i)),r=[]}return Object(p.jsx)("div",{className:"body",children:c})}()]})})]})};var ge=function(){var e=new f((function(){return a}),(function(){return b()}),(function(){return j()})),t=Object(n.useState)(window.localStorage.getItem("token")),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(JSON.parse(window.localStorage.getItem("user"))),l=Object(i.a)(r,2),o=l[0],d=l[1],u=function(e){window.localStorage.setItem("user",JSON.stringify(e)),d(e)},j=function(){window.localStorage.removeItem("user"),d(void 0)},m=function(e){window.localStorage.setItem("token",e),c(e)},b=function(){window.localStorage.removeItem("token"),c(void 0)};return Object(n.useEffect)((function(){var e=window.localStorage.getItem("user");d(JSON.parse(e))}),[]),Object(p.jsx)(g.a,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"contentContainer",children:Object(p.jsx)(N.a,{children:Object(p.jsxs)(y.c,{children:[Object(p.jsx)(y.a,{path:"/customer/calendar",children:Object(p.jsx)(le,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/customer/profile",children:Object(p.jsx)($,{client:e,currentUser:o,cCurrentUser:d})}),Object(p.jsx)(y.a,{path:"/volunteer/calendar",children:Object(p.jsx)(z,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/volunteer/profile",children:Object(p.jsx)(Z,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/cga/dashboard",children:Object(p.jsx)(ne,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/cga/create-session",children:Object(p.jsx)(re,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/cga/view-users",children:Object(p.jsx)(ie,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/home",children:Object(p.jsx)(de,{client:e})}),Object(p.jsx)(y.a,{path:"/admin/calendar",children:Object(p.jsx)(je,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/admin/register-customer",children:Object(p.jsx)(me,{client:e})}),Object(p.jsx)(y.a,{path:"/login/user",children:Object(p.jsx)(be,{setUser:function(e){return u(e)},loggedIn:function(e){return m(e)},client:e,cCurrentUser:d})}),Object(p.jsx)(y.a,{path:"/login/volunteer",children:Object(p.jsx)(he,{setUser:function(e){return u(e)},loggedIn:function(e){return m(e)},client:e,cCurrentUser:d})}),Object(p.jsx)(y.a,{path:"/login/admin",children:Object(p.jsx)(fe,{setUser:function(e){return u(e)},loggedIn:function(e){return m(e)},client:e,cCurrentUser:d})}),Object(p.jsx)(y.a,{path:"/register",children:Object(p.jsx)(Oe,{client:e})}),Object(p.jsx)(y.a,{path:"/manager/calendar",children:Object(p.jsx)(Ne,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{path:"/manager/new-areas",children:Object(p.jsx)(ve,{client:e,currentUser:o})}),Object(p.jsx)(y.a,{exact:!0,path:"/",children:Object(p.jsx)(de,{client:e})}),Object(p.jsx)(y.a,{path:"/",children:"Error: 404 not found"})]})})}),Object(p.jsx)("div",{className:"footerOffset",children:Object(p.jsx)(v,{currentUser:o})})]})})},ye=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,136)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ge,{})}),document.getElementById("root")),ye()},40:function(e,t,s){},67:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},85:function(e,t,s){}},[[122,1,2]]]);
//# sourceMappingURL=main.48d5053a.chunk.js.map